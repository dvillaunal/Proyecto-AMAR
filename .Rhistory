load("data_model.RData")
View(data.model2)
View(data.model)
install.packages("chatgpt")
install.packages(c("reticulate", "quarto"))
library(reticulate)
data.model2
data.model2
# Librerias Necesarias:
library(tidyverse)
library(magrittr)
library(janitor)
library(readxl)
library(R.utils)
data.model2 %>% as_tibble()
data.model2 %>% count(anatf, time_anatf, ccm, time_ccm)
install.packages("biostat3")
data.model2 %<>% as_tibble()
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
library(biostat3)
lifetab2(Surv(time_ccm, ccm) ~ treat, df)
Surv(time_ccm, ccm)
Surv(time_ccm, ccm) ~ treat
Surv(time_ccm, ccm) ~ treat, df
data.model2
lifetab2(Surv(time_ccm, ccm) ~ treat, data.model2)
lifetab2(Surv(time_ccm, ccm) ~ treat, data.model2, breaks = 1:10)
lifetab2(Surv(time_ccm, ccm) ~ treat, data.model2, breaks = 1:4)
lifetab2(Surv(time_ccm, ccm) ~ treat, data.model2, breaks = 2)
lifetab2(Surv(time_ccm, ccm) ~ treat, data.model2)
View(data.model)
View(data.model)
```{r}
lifetab2(Surv(time_ccm, status == "ccm: 1") ~ treat, data.model2)
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
library(biostat3)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
rm(data.model)
attach(data.model2)
lifetab2(Surv(time_ccm, ccm) ~ treat, data.model2)
lifetab2(Surv(time_ccm, ccm) ~ 1, data.model2)
lifetab2(Surv(time_ccm, ccm) ~ 1, data.model2) %>% as.data.frame()
lifetab2(Surv(time_ccm, ccm) ~ 1, data.model2) %>% as.data.frame() %>%
xtable()
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% as.data.frame() %>%
xtable()
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% as.data.frame()
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% kable()
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% kbl()
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
library(biostat3)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
rm(data.model)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% xtable()
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% kbl()
?xtable
xtable(auto = T)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% xtable(auto = T)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% xtable(.,auto = T)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% xtable(.,auto = TRUE)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% xtable(.,align = 'l')
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>% dim
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
xtable(.,align = 'cccccccccccc')
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
xtable(.,align = 'ccccccccccccc')
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
xtable(.,align = c("l", rep("p{1.5in}", 13)))
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
xtable(.,align = c("l", rep("p{1.5in}", 14)))
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
xtable(.,align = c("l", rep("p{1.5in}", 12)))
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
xtable(.,latex.environments = "widestuff")
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
xtableFtable(., method = "compact")
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
ftable(.)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
ftable(.) %>%
xtableFtable(., method = "compact")
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
xtableFtable(., method = "compact")
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24))
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
print(.) %>%
xtableFtable(., method = "compact")
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
as.data.frame() %>%
xtableFtable(., method = "compact")
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
as.data.frame()
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
knitr::kable(.)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable_styling(latex_options = c("striped", "hold_position"))
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable_styling(.,latex_options = c("striped", "hold_position"))
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kbl(., booktabs = T)  %>%
kable_styling(.,latex_options = c("striped", "hold_position"))
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kbl(., booktabs = T)  %>%
kable_styling(.,full_width = T)
attach(data.model2)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kbl(., booktabs = T, digits = 4)  %>%
kable_styling(.,full_width = T)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kbl(., booktabs = T, digits = 8, longtable = T, format = "latex")  %>%
kable_styling(.,full_width = T)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kbl(., booktabs = T, digits = 8, longtable = T)  %>%
kable_styling(.,full_width = T)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable(., booktabs = T, digits = 8,
longtable = TRUE, format = "latex")  %>%
kable_styling(.,full_width = T)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable(., booktabs = T, digits = 8, format = "latex",
longtable = T)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24))
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable(., booktabs = T, digits = 6, format = "latex",
longtable = T) %>% kable_styling(., full_width = TRUE)
?kable_styling
radiant::radiant()
View(data.model2)
library(radiant)
result <- pivotr(
data.model2,
cvars = c("treat", "time_ccm"),
nvar = "ccm",
fun = "sum",
nr = Inf
)
result
dtab(result, dec = 0)
# summary()
result$tab_freq
# summary()
result$tab_freq %>% kable(., booktabs = T) %>%
kable_styling(., full_width = T)
names(data.model2)
radiant()
# Ajuste del modelo Kaplan:
fit <- survfit(Surv(time_ccm, ccm) ~ treat, data = df)
# Ajuste del modelo Kaplan:
fit <- survfit(Surv(time_ccm, ccm) ~ treat, data = data.model2)
summary(fit)
ggsurvplot(fit,data = data.model2,
ylim = c(0.93,1),palette = "grey", ggtheme = theme_bw())
# Chunk 1
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
library(biostat3)
library(radiant)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
rm(data.model)
# Chunk 2
attach(data.model2)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable(., booktabs = T, digits = 6, format = "latex",
longtable = TRUE,
caption = "tabla de vida sin discriminar por tratamiento") %>%
kable_styling(font_size = 7)
# Chunk 3
result <- pivotr(
data.model2,
cvars = c("treat", "time_ccm"),
nvar = "ccm",
fun = "sum",
nr = Inf
)
# summary()
result$tab_freq %>%
kable(., booktabs = T,
caption = "resumen del no. de eventos por tratamiento") %>%
kable_styling(., full_width = T, latex_options = "hold_position")
# Chunk 4
# Ajuste del modelo Kaplan:
fit <- survfit(Surv(time_ccm, ccm) ~ treat, data = data.model2)
summary(fit)
# Chunk 5
ggsurvplot(fit,data = data.model2,
ylim = c(0.93,1),palette = "grey", ggtheme = theme_bw())+
labs(title = "Curva de Supervivencia Kaplan-Meier",
subtitle = "Por tipo de tratamiento")+
xlab("Tiempo (en meses)")+ylab("Probabilidad de supervivencia")
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
library(biostat3)
library(radiant)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
rm(data.model)
radiant()
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
library(biostat3)
library(radiant)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
rm(data.model)
survdiff(Surv(time_ccm, ccm) ~ treat, data = data.model2)
survdiff(Surv(time_ccm, ccm) ~ treat, data = data.model2) %>% summary()
knitr::purl("data_for_model.qmd", "code_model.R")
knitr::purl("survival_model.qmd", "code_model.R")
## ----message=FALSE, warning=FALSE, include=FALSE--------------------------------
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
library(biostat3)
library(radiant)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
rm(data.model)
## ---- fig.align='center', echo=FALSE--------------------------------------------
attach(data.model2)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable(., booktabs = T, digits = 6, format = "latex",
longtable = TRUE,
caption = "tabla de vida sin discriminar por tratamiento") %>%
kable_styling(font_size = 7)
## ---- echo=FALSE----------------------------------------------------------------
result <- pivotr(
data.model2,
cvars = c("treat", "time_ccm"),
nvar = "ccm",
fun = "sum",
nr = Inf
)
# summary()
result$tab_freq %>%
kable(., booktabs = T,
caption = "resumen del no. de eventos por tratamiento") %>%
kable_styling(., full_width = T, latex_options = "hold_position")
## ---- echo=FALSE----------------------------------------------------------------
# Ajuste del modelo Kaplan:
fit <- survfit(Surv(time_ccm, ccm) ~ treat, data = data.model2)
summary(fit)
## ---- echo=FALSE----------------------------------------------------------------
ggsurvplot(fit,data = data.model2,
ylim = c(0.93,1),palette = "grey", ggtheme = theme_bw())+
labs(title = "Curva de Supervivencia Kaplan-Meier",
subtitle = "Por tipo de tratamiento")+
xlab("Tiempo (en meses)")+ylab("Probabilidad de supervivencia")
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24))
attach(data.model2)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable(., booktabs = T, digits = 6, format = "latex",
longtable = TRUE,
caption = "tabla de vida sin discriminar por tratamiento") %>%
kable_styling(font_size = 7)
# Chunk 1
# Librerías Necesarias:
library(survminer)
library(survival)
library(tidyverse)
library(magrittr)
library(ggalt)
library(openxlsx)
library(ggfortify)
library(kableExtra)
library(knitr)
library(xtable)
library(StepReg)
library(biostat3)
library(radiant)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
rm(data.model)
# Chunk 2
attach(data.model2)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable(., booktabs = T, digits = 6, format = "latex",
longtable = TRUE,
caption = "tabla de vida sin discriminar por tratamiento") %>%
kable_styling(font_size = 7)
# Chunk 3
result <- pivotr(
data.model2,
cvars = c("treat", "time_ccm"),
nvar = "ccm",
fun = "sum",
nr = Inf
)
# summary()
result$tab_freq %>%
kable(., booktabs = T,
caption = "resumen del no. de eventos por tratamiento") %>%
kable_styling(., full_width = T, latex_options = "hold_position")
# Chunk 4
# Ajuste del modelo Kaplan:
fit <- survfit(Surv(time_ccm, ccm) ~ treat, data = data.model2)
summary(fit)
# Chunk 5
ggsurvplot(fit,data = data.model2,
ylim = c(0.93,1),palette = "grey", ggtheme = theme_bw())+
labs(title = "Curva de Supervivencia Kaplan-Meier",
subtitle = "Por tipo de tratamiento")+
xlab("Tiempo (en meses)")+ylab("Probabilidad de supervivencia")
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable(., booktabs = T, digits = 6, format = "latex",
longtable = TRUE,
caption = "tabla de vida sin discriminar por tratamiento") %>%
kable_styling(font_size = 7)
attach(data.model2)
lifetab2(Surv(time_ccm, ccm) ~ 1,
data.model2, breaks = c(0,6,12,18,24)) %>%
kable(., booktabs = T, digits = 6, format = "latex",
longtable = TRUE,
caption = "tabla de vida sin discriminar por tratamiento") %>%
kable_styling(font_size = 7)
# data-base loading
load("data_model.RData")
data.model2 %<>% as_tibble()
rm(data.model)
data.model2 %>% head()
View(data.model2)
data.model2 %>% as.data.frame()
log_rank <- survdiff(Surv(time_ccm, ccm) ~ treat, data = data.model2, rho = 0) # Log-Rank test
print("Log-Rank test")
print("Resultados")
log_rank # Resultados
print("Valor del Estadístico de prueba Log-Rank")
round(log_rank$chisq,4) # Valor del Estadístico de prueba Log-Rank
print("Valor p asociado a este test")
round(pchisq(log_rank$chisq,1,lower.tail = F),4) # Valor p asociado a este test
summary(fit)
summary(fit) %>% as.data.frame()
fortify(fit)
fortify(fit) %>% xtable()
# summary()
result$tab_freq %>%
kable(., booktabs = T,
caption = "resumen del no. de eventos por tratamiento") %>%
kable_styling(., full_width = T, latex_options = "hold_position")
# summary()
result$tab_freq %>% xtable()
setwd("~/Proyecto-AMAR")
ggsurvplot(fit,data = data.model2,
ylim = c(0.93,1),palette = "grey", ggtheme = theme_bw())+
labs(title = "Curva de Supervivencia Kaplan-Meier",
subtitle = "Por tipo de tratamiento")+
xlab("Tiempo (en meses)")+ylab("Probabilidad de supervivencia")
log_rank <- survdiff(Surv(time_ccm, ccm) ~ treat, data = data.model2, rho = 0) # Log-Rank test
print("Log-Rank test")
print("Resultados")
log_rank # Resultados
print("Valor del Estadístico de prueba Log-Rank")
round(log_rank$chisq,4) # Valor del Estadístico de prueba Log-Rank
print("Valor p asociado a este test")
round(pchisq(log_rank$chisq,1,lower.tail = F),4) # Valor p asociado a este test
